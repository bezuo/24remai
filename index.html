<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> <!-- 规定视口区域大小为1:1且不允许缩放 -->
<meta name="apple-mobile-web-app-capable" content="yes"> <!-- IOS中Safari允许全屏浏览 -->
<meta name="apple-mobile-web-app-status-bar-style" content="black"> <!-- IOS中Safari顶端状态条样式 -->
<meta content="telephone=no, address=no" name="format-detection"> <!-- 忽略IOS操作系统将五位或以上位数的数字识别成电话号码 -->
<meta name="author" content="BeZuo">
<title>24热卖</title>
<!-- 用于浏览器默认样式重置 start -->
<link type="text/css" rel="stylesheet" href="style/reset.min.css" />
<!-- 用于浏览器默认样式重置 end -->

<!-- 页面下拉加载动效 start -->
<link rel="stylesheet" type="text/css" href="style/gmu.min.css" />
<!-- 页面下拉加载动效 end -->

<!-- 页面模块样式 start -->
<link type="text/css" rel="stylesheet" href="style/layout.min.css" />
<!-- 页面模块样式 end -->

<!-- 页面产品滑动样式 start -->
<link type="text/css" rel="stylesheet" href="style/swiper.min.css" />
<!-- 页面产品滑动样式 end -->

<!-- 页面下拉加载动效 start -->
<link rel="stylesheet" type="text/css" href="style/loading.min.css" />
<!-- 页面下拉加载动效 end -->
</head>

<body class="max bg01">
	<section class="layout pad-btm54">

		<!-- down start -->
		<div class="btm-down btm-down ptn-center" style="position:relative;">
			<div class="color-line">
				<span style="background-color:rgb(60,210,233)"></span>
				<span style="background-color:rgb(255,239,81)"></span>
				<span style="background-color:rgb(255,180,115)"></span>
			</div>

			<a href="http://a.app.qq.com/o/simple.jsp?pkgname=hotsalehavetodo.applicaiton" class="fn-right downApp">立即下载</a>
			<span class="close-box close-down"></span>
			<div class="logobox">
				<img src="images/logo.png" class="fn-left logo24" style="margin-left:0;" />
				<hgroup>
					<h2>24热卖</h2>
					<p>全网热卖好货排行榜</p>
				</hgroup>
			</div>
		</div>
		<!-- /down end -->

		<!-- header start -->
		<header class="i-top">
			<h1><img src="images/index-logo.png"></h1>
		</header>
		<!-- /header end -->
		
		<!-- article start -->
		<article class="content-box ui-refresh" style="background-color: rgb(243,243,243);">
			<!-- banner start -->
			<div class="i-banner" id="slider">
			    <div><img src="images/index_01.jpg"></div>
			    <div><img src="images/index_01.jpg"></div>
			    <div><img src="images/index_01.jpg"></div>
			    <div><img src="images/index_01.jpg"></div>
			</div>
			<!-- banner end -->
			
			<!-- activity start -->
			<section class="hot-comm">
				<div class="hot-comm-left" data-href="testProduct.html">
					<img src="images/home_01.jpg" alt="" alt="实测商品" />
				</div>

				<div class="hot-comm-right">
					<div class="hot-com-r-t" data-href="">
						<div class="hot-img">
							<img src="images/home_02.jpg" alt="用户抽奖" />
						</div>
					</div>

					<div class="hot-com-r-b">
						<div class="hot-img">
							<img src="images/home_03.jpg" alt="首单折扣" />
						</div>
					</div>
				</div>
			</section>
			<!-- /activity end -->
			
			<!-- nav start -->
			<nav class="home-nav">
				<ul>
					<li class="cur"><a href="javascript:void(0);">今日爆款</a></li>
					<li><a href="javascript:void(0);">销量最高</a></li>
					<li><a href="javascript:void(0);">折扣最高</a></li>
					<li><a href="javascript:void(0);">好评最高</a></li>
					<li><a href="javascript:void(0);">收藏最高</a></li>
					<li><a href="javascript:void(0);">今日爆款</a></li>
					<li><a href="javascript:void(0);">销量最高</a></li>
					<li><a href="javascript:void(0);">折扣最高</a></li>
					<li><a href="javascript:void(0);">好评最高</a></li>
					<li><a href="javascript:void(0);">收藏最高</a></li>
				</ul>
			</nav>
			<!-- /nav end -->

			<!-- hot commodity start -->
			<section class="hot-commodity">
				<ul>
					<li data-href="detailed.html">
						<div class="hot-comm-img">
							<img src="images/home-04.jpg" alt="" />
							<div class="hot-comm-content">
								<span class="fn-right">来源：亚马逊</span>
								<i>日销量: 31129件</i>
								<em>月销量: 5231112条</em>
							</div>
						</div>

						<div class="hot-comm-btm">
							<p>猴年吉祥物猴子公仔毛绒玩具生肖猴子布娃娃</p>
							<i>¥</i><span>19.9</span>
							<em>¥ 99.9</em>
							<span class="hot-zk">1.9折</span>
						</div>
					</li>

					<li data-href="detailed.html">
						<div class="hot-comm-img">
							<img src="images/home-04.jpg" alt="" />
							<div class="hot-comm-content">
								<span class="fn-right">来源：亚马逊</span>
								<i>日销量: 31129件</i>
								<em>月销量: 5231112条</em>
							</div>
						</div>

						<div class="hot-comm-btm">
							<p>猴年吉祥物猴子公仔毛绒玩具生肖猴子布娃娃猴年吉祥物猴子公仔毛绒玩具生肖猴子布娃娃</p>
							<i>¥</i><span>19.9</span>
							<em>¥ 99.9</em>
						</div>
					</li>

					<li data-href="detailed.html">
						<div class="hot-comm-img">
							<img src="images/home-04.jpg" alt="" />
							<div class="hot-comm-content">
								<span class="fn-right">来源：亚马逊</span>
								<i>日销量: 31129件</i>
								<em>月销量: 5231112条</em>
							</div>
						</div>

						<div class="hot-comm-btm">
							<p>猴年吉祥物猴子公仔毛绒玩具生肖猴子布娃娃</p>
							<i>¥</i><span>19.9</span>
							<em>¥ 99.9</em>
						</div>
					</li>
				</ul>
			</section>
			<!-- /hot commodity end -->
			
			<div class="data-list-tit">
				<h3><i>更</i><i>多</i><i>爆</i><i>品</i></h3>
			</div>
			
			<!-- data list start -->
			<section class="ui-refresh">
				<div class="home-list">
					<div class="lbox" data-href="detailed.html" randomid="1523867207930日用品">
						<div class="lbox-top">
							<p><span>日销量：234565件</span><span>月销量：1234565</span></p>
						</div>

						<div class="lbox-centent">
							<span class="l-imgbox"><img src="http://gd1.alicdn.com/bao/uploaded/i1/TB18pS8KFXXXXXQXXXXXXXXXXXX_!!0-item_pic.jpg_600x600.jpg"></span>
							<div class="lbox-cb">
								<h3>他他库防风挂钩卡扣多功能衣架内衣袜子晾晒架8夹 买2送1 买3送2 </h3>
								<p><span class="now-price"><i>¥</i>9.9</span><em class="odd-price">¥32.0</em></p>
								<p>
									<span class="source-mall">来源：淘宝</span>
								</p>
							</div>
						</div>
					</div>

					<div class="lbox" data-href="detailed.html" randomid="1523867207930日用品">
						<div class="lbox-top">
							<p><span>日销量：234565件</span><span>月销量：1234565</span></p>
						</div>

						<div class="lbox-centent">
							<span class="l-imgbox"><img src="http://gd2.alicdn.com/bao/uploaded/i2/TB1tbYYIVXXXXXjXpXXXXXXXXXX_!!2-item_pic.png_600x600.jpg"></span>
							<div class="lbox-cb">
								<h3>他他库防风挂钩卡扣多功能衣架内衣袜子晾晒架8夹 买2送1 买3送2 </h3>
								<p><span class="now-price"><i>¥</i>9.9</span><em class="odd-price">¥32.0</em></p>
								<p>
									<span class="source-mall">来源：淘宝</span>
								</p>
							</div>
						</div>								
					</div>
				</div>

				<!--setup方式带有class为ui-refresh-down或ui-refresh-up的元素必须加上，用于放refresh按钮-->
				<div class="ui-refresh-down"></div>
			</section>
			<!-- /data list end -->
		</article>
		<!-- /article end -->

		<!-- footer start -->
		<footer class="footer btm-fixed">
			<a href="index.html" class="home cur">首页</a>
			<a href="choice.html" class="choice">分类精选</a>
		</footer>
		<!-- /footer end -->
	</section>
	
<script type="text/javascript" src="js/zepto.min.js" ></script>
<script type="text/javascript" src="js/base.min.js" ></script>
<!-- 上下拉加载组件 statr -->
<script type="text/javascript" src="js/gmu.min.js"></script>
<!-- 上下拉加载组件 end -->
<script type="text/javascript">
$(function(){
	// banner图轮换
	$('#slider').slider( { imgZoom: true });

	// 菜单栏
	$('.home-nav').navigator();

	/*组件初始化js start*/
	$('.ui-refresh').refresh({
	    load: function (dir, type) {
	        var me = this;
	        var promptUp = $("<div class='prompt-up'>没有更多内容了</div>");
	        var promptDown = $("<div class='prompt-down'>没有更多内容了</div>");

	        // 向上拉且上一次上拉请求数据不为空, 或下拉且上一次下拉请求数据不为空 	
	        if ($(".prompt-down").length === 0) {

	        	setTimeout(function(){
	        		// 向服务器发送一个请求, 并 
		            $.getJSON('json/list.json', function (data) {
			            var result = '',
			            	list = $('.home-list');

		            	// 对请求回来的数据进行判断是否为空
		            	// 不为空：将请求回来的json数据拼接成字符串并将数据插入至对应的方向
		            	// 为空：则在直接禁用相应的拉动刷新且页面上添加提示 ———— 没有更多内容了
						if (data !== null) {

			                // 判断拉动方向将拼接的数据插入
			                list[dir == 'up' ? 'prepend' : 'append'](strList(data,result ));
			                //数据加载完成后改变状态
			            	me.afterDataLoading(dir);

		                } else {
				        	// 将没有更多数据友好提示添加至页面
		        			$(".ui-refresh-down").hide().children().removeClass();
			            	me.afterDataLoading(dir);
				        	return dir !== 'up' ? $(".ui-refresh").append(promptUp) : $(".ui-refresh").before(promptDown);
				        }
				    });
	        	},500);
	        }
	    }
	});
	/*组件初始化js end */

	// 字符串拼接
	function strList(data,result){
		for(var i = 0; i < data.lists.length; i++){
            
			result += "<div class='lbox' data-href=" +data.lists[i].link+ ">"
							+"<div class='lbox-top'>"
								+"<p><span>日销量：" +data.lists[i].mall+ "件</span><span>月销量："+data.lists[i].comment+ "件</span></p>"
							+"</div>"

							+"<div class='lbox-centent'>"
								+"<span class='l-imgbox'><img src=" +data.lists[i].pic+ " alt="+data.lists[i].title+" /></span>"
								+"<div class='lbox-cb'>"
									+"<h3>"+data.lists[i].title+"</h3>"
									+"<p><span class='now-price'><i>¥</i>" +data.lists[i].price+ "</span><em class='odd-price'>¥54.00</em></p>"
									+"<p>"
										+"<span class='source-mall'>来源："+data.lists[i].platform+"</span>"
									+"</p>"
								+"</div>"
							+"</div>"
						+"</div>"
        };
        return result;
	}

});
</script>
</body>
</html>
